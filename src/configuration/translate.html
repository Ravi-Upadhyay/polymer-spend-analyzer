<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import" href="../../bower_components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="../../bower_components/iron-localstorage/iron-localstorage.html">
<link rel="import" href="../components/common-styles.html">

<dom-module id="spend-analyser-translate">
    <template>
        <style include="common-styles"></style>

        <!-- <div class="lang">
            <span title="english">ðŸ‡¬ðŸ‡§ EN</span>
            <paper-toggle-button on-change="_toggle" id="switch"></paper-toggle-button>
            <span title="french">FR ðŸ‡«ðŸ‡·</span>
        </div>

        <h4>{{localize('header_1')}}</h4>
        <div class="snippet">
            <div class="demo">
                <div>{{localize('greeting')}}</div>
                <div>{{localize('missing')}}</div>
                <div>{{localize('intro', 'name', 'Batman')}}</div>
                <div>{{localize('cats', 'numCats', 10000, 'pctBlack', 0.42)}}</div>
                <div>{{localize('sale', 'start', 150, 'time', 15, 'price', 10)}}</div>
            </div>
            <div class="code-container">
                <code>localize('greeting')</code>
                <code>localize('intro', 'name', 'Batman')</code>
                <code>localize('cats', 'numCats', 10000, 'pctBlack', 0.42)</code>
                <!-- Dates need to be a valid JavaScript object. For an example, we
          are passing a number of milliseconds from the epoch -->
                <!--<code>localize('sale', 'start', 150, 'time', 15, 'price', 10)</code>
            </div>
        </div> -->

        <!-- <h4>{{localize('header_2')}}</h4>
        <div class="snippet">
            <div class="demo">
                <div>{{localize('fruit', 'num', 0)}} / {{localize('fruit', 'num', 1)}}/ {{localize('fruit', 'num', 3)}}</div>
                <div>{{localize('bananas', 'name', 'Robin', 'gender', 'male', 'num', 1)}}</div>
                <div>{{localize('bananas', 'name', 'Robin', 'gender', 'female', 'num', 0)}}</div>
                <div>{{localize('bananas', 'name', 'Robin', 'gender', 'other', 'num', 4)}}</div>
            </div>
            <div class="code-container">
                <code>localize('fruit', 'num', 0) / localize('fruit', 'num', 1) / localize('fruit', 'num', 3)</code>
                <code>localize('bananas', 'name', 'Robin', 'gender', 'male', 'num', 1)</code>
                <code>localize('bananas', 'name', 'Robin', 'gender', 'female', 'num', 0)</code>
                <code>localize('bananas', 'name', 'Robin', 'gender', 'other', 'num', 4)</code>
            </div>
        </div> -->

    </template>

    <script>
        class SpendAnalyserTranslate extends Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior], Polymer.Element) {
            static get is() { return 'spend-analyser-translate'; }

            // static get behaviors() {
            //   return [Polymer.AppLocalizeBehavior]
            // }

            static get properties() {
                return {
                    language: {
                        type: String,
                        value: 'nl',
                        notify: true
                    },
                    resources: {
                        type: Object,
                        notify: true
                    }
                }
            }

            ready() {
                super.ready();
                if (localStorage.length) {
                    if (localStorage.getItem('language')) {
                        this.language = localStorage.getItem('language');
                    }
                    else {
                        localStorage.setItem('language', this.language);
                    }
                } else {
                    localStorage.setItem('language', this.language);
                }

            }

            attached() {
                this.loadResources(this.resolveUrl('locales.json'));
            }

            // _toggle() {
            //     this.language = this.$.switch.checked ? 'fr' : 'en';
            // }
        }

        window.customElements.define(SpendAnalyserTranslate.is, SpendAnalyserTranslate);
    </script>
</dom-module>